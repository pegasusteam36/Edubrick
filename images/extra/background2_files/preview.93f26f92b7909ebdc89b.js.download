/*! For license information please see preview.93f26f92b7909ebdc89b.js.LICENSE.txt */
(()=>{var e,t={4292:function(e,t){var n,r,o,i;i=function(e){var t=Object.prototype.toString,n=Array.isArray||function(e){return"[object Array]"===t.call(e)};function r(e){return"function"==typeof e}function o(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function i(e,t){return null!=e&&"object"==typeof e&&t in e}var s=RegExp.prototype.test,a=/\S/;function c(e){return!function(e,t){return s.call(e,t)}(a,e)}var l={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},u=/\s*/,p=/\s+/,d=/\s*=/,f=/\s*\}/,w=/#|\^|\/|>|\{|&|=|!/;function h(e){this.string=e,this.tail=e,this.pos=0}function v(e,t){this.view=e,this.cache={".":this.view},this.parent=t}function g(){this.cache={}}h.prototype.eos=function(){return""===this.tail},h.prototype.scan=function(e){var t=this.tail.match(e);if(!t||0!==t.index)return"";var n=t[0];return this.tail=this.tail.substring(n.length),this.pos+=n.length,n},h.prototype.scanUntil=function(e){var t,n=this.tail.search(e);switch(n){case-1:t=this.tail,this.tail="";break;case 0:t="";break;default:t=this.tail.substring(0,n),this.tail=this.tail.substring(n)}return this.pos+=t.length,t},v.prototype.push=function(e){return new v(e,this)},v.prototype.lookup=function(e){var t,n=this.cache;if(n.hasOwnProperty(e))t=n[e];else{for(var o,s,a=this,c=!1;a;){if(e.indexOf(".")>0)for(t=a.view,o=e.split("."),s=0;null!=t&&s<o.length;)s===o.length-1&&(c=i(t,o[s])),t=t[o[s++]];else t=a.view[e],c=i(a.view,e);if(c)break;a=a.parent}n[e]=t}return r(t)&&(t=t.call(this.view)),t},g.prototype.clearCache=function(){this.cache={}},g.prototype.parse=function(t,r){var i=this.cache,s=i[t];return null==s&&(s=i[t]=function(t,r){if(!t)return[];var i,s,a,l=[],v=[],g=[],m=!1,y=!1;function b(){if(m&&!y)for(;g.length;)delete v[g.pop()];else g=[];m=!1,y=!1}function k(e){if("string"==typeof e&&(e=e.split(p,2)),!n(e)||2!==e.length)throw new Error("Invalid tags: "+e);i=new RegExp(o(e[0])+"\\s*"),s=new RegExp("\\s*"+o(e[1])),a=new RegExp("\\s*"+o("}"+e[1]))}k(r||e.tags);for(var E,x,P,S,O,M,_=new h(t);!_.eos();){if(E=_.pos,P=_.scanUntil(i))for(var F=0,N=P.length;F<N;++F)c(S=P.charAt(F))?g.push(v.length):y=!0,v.push(["text",S,E,E+1]),E+=1,"\n"===S&&b();if(!_.scan(i))break;if(m=!0,x=_.scan(w)||"name",_.scan(u),"="===x?(P=_.scanUntil(d),_.scan(d),_.scanUntil(s)):"{"===x?(P=_.scanUntil(a),_.scan(f),_.scanUntil(s),x="&"):P=_.scanUntil(s),!_.scan(s))throw new Error("Unclosed tag at "+_.pos);if(O=[x,P,E,_.pos],v.push(O),"#"===x||"^"===x)l.push(O);else if("/"===x){if(!(M=l.pop()))throw new Error('Unopened section "'+P+'" at '+E);if(M[1]!==P)throw new Error('Unclosed section "'+M[1]+'" at '+E)}else"name"===x||"{"===x||"&"===x?y=!0:"="===x&&k(P)}if(M=l.pop())throw new Error('Unclosed section "'+M[1]+'" at '+_.pos);return function(e){for(var t,n=[],r=n,o=[],i=0,s=e.length;i<s;++i)switch((t=e[i])[0]){case"#":case"^":r.push(t),o.push(t),r=t[4]=[];break;case"/":o.pop()[5]=t[2],r=o.length>0?o[o.length-1][4]:n;break;default:r.push(t)}return n}(function(e){for(var t,n,r=[],o=0,i=e.length;o<i;++o)(t=e[o])&&("text"===t[0]&&n&&"text"===n[0]?(n[1]+=t[1],n[3]=t[3]):(r.push(t),n=t));return r}(v))}(t,r)),s},g.prototype.render=function(e,t,n){var r=this.parse(e),o=t instanceof v?t:new v(t);return this.renderTokens(r,o,n,e)},g.prototype.renderTokens=function(e,t,n,r){for(var o,i,s,a="",c=0,l=e.length;c<l;++c)s=void 0,"#"===(i=(o=e[c])[0])?s=this.renderSection(o,t,n,r):"^"===i?s=this.renderInverted(o,t,n,r):">"===i?s=this.renderPartial(o,t,n,r):"&"===i?s=this.unescapedValue(o,t):"name"===i?s=this.escapedValue(o,t):"text"===i&&(s=this.rawValue(o)),void 0!==s&&(a+=s);return a},g.prototype.renderSection=function(e,t,o,i){var s=this,a="",c=t.lookup(e[1]);if(c){if(n(c))for(var l=0,u=c.length;l<u;++l)a+=this.renderTokens(e[4],t.push(c[l]),o,i);else if("object"==typeof c||"string"==typeof c||"number"==typeof c)a+=this.renderTokens(e[4],t.push(c),o,i);else if(r(c)){if("string"!=typeof i)throw new Error("Cannot use higher-order sections without the original template");null!=(c=c.call(t.view,i.slice(e[3],e[5]),(function(e){return s.render(e,t,o)})))&&(a+=c)}else a+=this.renderTokens(e[4],t,o,i);return a}},g.prototype.renderInverted=function(e,t,r,o){var i=t.lookup(e[1]);if(!i||n(i)&&0===i.length)return this.renderTokens(e[4],t,r,o)},g.prototype.renderPartial=function(e,t,n){if(n){var o=r(n)?n(e[1]):n[e[1]];return null!=o?this.renderTokens(this.parse(o),t,n,o):void 0}},g.prototype.unescapedValue=function(e,t){var n=t.lookup(e[1]);if(null!=n)return n},g.prototype.escapedValue=function(t,n){var r=n.lookup(t[1]);if(null!=r)return e.escape(r)},g.prototype.rawValue=function(e){return e[1]},e.name="mustache.js",e.version="2.3.2",e.tags=["{{","}}"];var m=new g;return e.clearCache=function(){return m.clearCache()},e.parse=function(e,t){return m.parse(e,t)},e.render=function(e,t,r){if("string"!=typeof e)throw new TypeError('Invalid template! Template should be a "string" but "'+(n(o=e)?"array":typeof o)+'" was given as the first argument for mustache#render(template, view, partials)');var o;return m.render(e,t,r)},e.to_html=function(t,n,o,i){var s=e.render(t,n,o);if(!r(i))return s;i(s)},e.escape=function(e){return String(e).replace(/[&<>"'`=\/]/g,(function(e){return l[e]}))},e.Scanner=h,e.Context=v,e.Writer=g,e},t&&"string"!=typeof t.nodeName?i(t):(r=[t],void 0===(o="function"==typeof(n=i)?n.apply(t,r):n)||(e.exports=o))},9439:(e,t,n)=>{"use strict";var r=n(4292),o=n.n(r),i=n(6138),s=n.n(i);n(1402),n(7348);let a,c=!1;const l=document.fullscreenEnabled?"fullscreenchange":"webkitfullscreenchange",u={doc:parent.document,addListener:e=>{u.doc.addEventListener(l,e)},removeListener:e=>{u.doc.removeEventListener(l,e)},enter:()=>{const e=u.doc.documentElement;return e.requestFullscreen?e.requestFullscreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():void 0},exit:()=>{const e=u.doc;return e.exitFullscreen?e.exitFullscreen():e.webkitExitFullscreen?e.webkitExitFullscreen():void 0},toggle:()=>u.isFullscreen()?u.exit():u.enter(),isFullscreen:()=>"fullscreenElement"in u.doc?Boolean(u.doc.fullscreenElement):"webkitIsFullScreen"in u.doc&&u.doc.webkitIsFullScreen},p={PAGE_NAME:"slate:presentation",isEnabled(){if(void 0===a){const e=window.WebPro.parseQueryParams(location.search);a="presentation"===e["page-mode"]}return a},init(){const e=$(document.body);if(!window.Luca.publicationViewer||window.Luca.publicationViewer.$element.is(".loading")){const t=$("#preview-controls-panel");t.addClass("force-visible"),e.on("luca-splash-hidden",(()=>{setTimeout((()=>{t.removeClass("force-visible")}),3e3)}))}e.on("luca-publication-viewer-ready",f).on("presentation-mode-scroll",w).on("preview-close",(()=>{u.removeListener(d),u.exit().catch()})),u.addListener(d),$(".fullscreenButton").on("click",(()=>{c=!0,u.toggle()})),f()},getSectionScroll(e,t,n,r){let o=null;if(n.is(".card-flipbook-section")&&r.sectionItemIndex){const e=function(e,t){const n=e.data("pmOffsets")||[],r=n.filter((e=>e.$element.closest(".section").is(t)&&!e.page));return r}(t,n);o=e[r.sectionItemIndex]}if(o)return o.offset;{const n=window.Luca.PresentationMode.getNearestOffset(t,e);if(n.offsetData&&n.offsetData.offset)return n.offsetData.offset}return e}};function d(){c||u.isFullscreen()||!window.closePreviewWindow?(f(),c=!1):setTimeout((()=>{window.closePreviewWindow(new Event("keydown"))}),100)}function f(){$(".fullscreenButton").toggleClass("exit",u.isFullscreen())}function w(e,t){parent.postMessage({__slateSource__:"adobe-spark-page-editor",event:"analytics-track",eventName:"presentMode:advanced",eventData:{contextualData1:"contentPaging:"+Boolean(t.page),contextualData2:"sectionNum:"+t.sectionIndex},pageName:p.PAGE_NAME})}p.PAGE_NAME="slate:presentation";const h=window.WebPro;window.Mustache=o(),window.Luca=s();const v=window.Render,g=Date.now(),m=window.jQuery;function y(e){e.__slateSource__="adobe-spark-page-editor",parent.postMessage(e)}function b(){return"true"===h.parseQueryParams(window.location.href).edu}function k(){return"true"===h.parseQueryParams(window.location.href).eduWebpagePreview}function E(){return"true"===h.parseQueryParams(window.location.href).viewOnly}window.closePreviewWindow=function(e){return p.isEnabled()&&y({event:"analytics-track",eventName:"presentMode:ended",eventData:{trigger:"key"===e.type.slice(0,3)?"escape":"endButton",contextualData1:"timeInPresent:"+Math.floor((Date.now()-g)/1e3)},pageName:p.PAGE_NAME}),document.body.dispatchEvent(new Event("preview-close")),y({event:"preview-close"}),!1},s().Bootstrap.disable(),p.isEnabled()&&(p.init(),y({event:"analytics-track",eventName:"presentMode:began",eventData:{},pageName:p.PAGE_NAME})),m((()=>{window.focus();const e=m("#preview-controls-panel"),t=m(".footer"),n=m(".previewCloseButton");window.isSimplePreview||x||k()||b()||E()?(e.hide(),t.hide()):(n.on("vclick",window.closePreviewWindow),m(document).on("keydown",(e=>{const t=m(".wp-collection-browser.wp-show").length;if(e.keyCode===s().keyCodes.ESCAPE&&!t)return window.closePreviewWindow(e)}))),x&&m("body").on("print-mode-ready",(()=>{y({event:"print-mode-ready"})}))})),m(document.body).on("luca-splash-hidden",(()=>{!function(){try{const e=window.issueJSON.preview_data.scrollInfo,t=m(".article"),n=".content-divider-section, .placeholder, .spacer-section",r=t.find(".section").not(n).eq(e.sectionIndex);if(!r.length)throw new Error("Could not locate scroll section");const o=r.data();let i=o.isFirstSection?0:o.scrollInOffset+e.clientHeight;p.isEnabled()?i=p.getSectionScroll(i,t,r,e):i+=e.sectionOffsetFromTop,function(){const e=m(".article");let t=e.data("sectionsScrollerImmediate");t||(t=new h.Widget.SectionsArticleScroller(e,{scrollDuration:1}),e.data("sectionsScrollerImmediate",t));return t}().scrollTo(i)}catch(e){}}()})),window.loadJSON=function(e,t){const n=function(e){return e.brand_type||"default"}(e);s().publicationViewer&&s().publicationViewer.showSplash(),Promise.all([t.fontPromise,t.imagePromise]).then((()=>{if(window.issueJSON=e,x){const e=v.getJSON(),t=v.getHTML(e,"preview");m("body").append(t),s().PrintMode.initialize()}else{v.preview(),"rendition"===s().getPageMode()&&s().RenditionMode.initialize();const e=new MutationObserver((t=>{for(const n of t)if(document.body.classList.contains("responsive-images-loaded"))return s().publicationViewer?.adjustVisuals(),void e.disconnect()}));e.observe(document.body,{attributes:!0})}const t=m("#preview-controls-panel"),n=m(".footer");(window.isSimplePreview||x||k()||b()||E())&&(t.hide(),n.hide())})),"none"===n&&m(".splash .logo").remove(),m(".spark-header a, .brand-header a, .bumper-section a").click((e=>(e.preventDefault(),e.stopPropagation(),!1)))},window.localize=function(e,t){m(".localizeTitle").each((function(){const e=m(this),n=e.data("loctitle");if(n){const r=t[n];r&&e.attr("title",r)}}))};const x=/[^?#]*\?(?:[^?#]+&)*print_preflight=1/.test(window.location.search);y({event:x?"preview-ready-print":"preview-ready"}),window.printPage=function(){print()},window.onafterprint=function(){y({event:"print-complete"})}}},n={};function r(e){var o=n[e];if(void 0!==o)return o.exports;var i=n[e]={exports:{}};return t[e].call(i.exports,i,i.exports,r),i.exports}r.m=t,e=[],r.O=(t,n,o,i)=>{if(!n){var s=1/0;for(u=0;u<e.length;u++){for(var[n,o,i]=e[u],a=!0,c=0;c<n.length;c++)(!1&i||s>=i)&&Object.keys(r.O).every((e=>r.O[e](n[c])))?n.splice(c--,1):(a=!1,i<s&&(s=i));if(a){e.splice(u--,1);var l=o();void 0!==l&&(t=l)}}return t}i=i||0;for(var u=e.length;u>0&&e[u-1][2]>i;u--)e[u]=e[u-1];e[u]=[n,o,i]},r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={493:0};r.O.j=t=>0===e[t];var t=(t,n)=>{var o,i,[s,a,c]=n,l=0;if(s.some((t=>0!==e[t]))){for(o in a)r.o(a,o)&&(r.m[o]=a[o]);if(c)var u=c(r)}for(t&&t(n);l<s.length;l++)i=s[l],r.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return r.O(u)},n=self.webpackChunk=self.webpackChunk||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var o=r.O(void 0,[946,814,437,94],(()=>r(9439)));o=r.O(o)})();
//# sourceMappingURL=preview.93f26f92b7909ebdc89b.js.map